{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-content style=\\\"text-align:center\\\">\\n\\n  <div id=\\\"main1\\\" style=\\\"display: block\\\">\\n    <div>\\n      <ion-button (click)=\\\"newlogin()\\\">Login</ion-button>\\n    </div>\\n    <div>\\n      <ion-button (click)=\\\"newsignup()\\\"> Sign Up </ion-button>\\n    </div>\\n  </div>\\n\\n  <div id=\\\"login\\\" style=\\\"display: none\\\">\\n    <div>\\n      <ion-list>\\n        <ion-item>\\n          Email:\\n          <ion-input [(ngModel)]=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"Enter Email\\\" required></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          Password:\\n          <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Enter Password\\\" required></ion-input>\\n          <!-- <input type=\\\"password\\\" placeholder=\\\"Confirm Password\\\" required> -->\\n        </ion-item>\\n      </ion-list>\\n    </div>\\n    <p id='wrongpassword' style=\\\"color: red; display:none\\\">* Incorrect Email or Password</p>\\n    <ion-button (click)=\\\"login()\\\">Login</ion-button>\\n\\n\\n\\n    <div>\\n      <ion-button (click)=\\\"goBack1()\\\">Back</ion-button>\\n    </div>\\n\\n  </div>\\n\\n\\n\\n\\n\\n\\n  <div id=\\\"signup\\\" style=\\\"display:none\\\">\\n\\n    <ion-list>\\n      <ion-item>\\n        <ion-input required type=\\\"text\\\" placeholder=\\\"Email\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-input required type=\\\"password\\\" placeholder=\\\"Password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <label for=\\\"date\\\">Date of Birth</label>\\n        <ion-input slot='end' required type=\\\"date\\\" placeholder=\\\"Date of Birth\\\" [(ngModel)]=\\\"DOB\\\"></ion-input>\\n      </ion-item>\\n\\n    </ion-list>\\n    <div>\\n      <ion-button (click)=\\\"goBack1()\\\">Back</ion-button>\\n    </div>\\n    <div>\\n      <ion-button (click)=\\\"register()\\\">Register</ion-button>\\n    </div>\\n  </div>\\n\\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\"","import {\n  Component,\n  OnInit\n} from '@angular/core';\nimport {\n  Router\n} from '@angular/router';\nimport {\n  CognitoService\n} from '../cognito.service';\nimport {\n  AlertController\n} from '@ionic/angular';\nimport {\n  ToastController\n} from '@ionic/angular';\nimport {\n  RestapiService\n} from '../restapi.service';\n\n@Component({\n  selector: 'app-alogin',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  element: HTMLElement;\n  email: string;\n  password: string;\n\n\n  constructor(public api: RestapiService,\n    private router: Router, public cognitoService: CognitoService, public alertCtrl: AlertController, public toastCtrl: ToastController) {\n    if (this.cognitoService.getAuthenticatedUser() != null) {\n      // this.api.getData();\n      setTimeout(() => {\n        this.router.navigate(['/tabs/tab1']);\n\n      }, 1000);\n      console.log(this.cognitoService.getAuthenticatedUser())\n      this.cognitoService.getAuthenticatedUser().getSession(function (err, session) {\n        if (err) {\n          alert(err);\n          return;\n        }\n        console.log('session validity: ' + session.isValid());\n\n      });\n    }\n  }\n\n  DOB: any;\n  gender: any;\n  SelectedValue: any;\n\n  ngOnInit() { }\n\n  newlogin() {\n    let main1 = document.getElementById('main1');\n    let login = document.getElementById('login');\n    let signup = document.getElementById('signup');\n    main1.style.display = 'none';\n    login.style.display = 'block';\n    signup.style.display = 'none';\n  }\n\n  newsignup() {\n    let main1 = document.getElementById('main1');\n    let login = document.getElementById('login');\n    let signup = document.getElementById('signup');\n    main1.style.display = 'none';\n    login.style.display = 'none';\n    signup.style.display = 'block';\n  }\n\n  goBack1() {\n    let main1 = document.getElementById('main1');\n    let login = document.getElementById('login');\n    let signup = document.getElementById('signup');\n    let x = document.getElementById('wrongpassword');\n    main1.style.display = 'block';\n    login.style.display = 'none';\n    signup.style.display = 'none';\n    x.style.display = 'none';\n  }\n\n\n\n\n\n  login() {\n    this.cognitoService.authenticate(this.email, this.password).then((res) => {\n      console.log('User logged in');\n      console.log(res);\n      console.log(res['idToken']['jwtToken']);\n      //  this.api.getData();\n      setTimeout(() => {\n        this.router.navigate(['/tabs/tab1'])\n\n      }, 1000);\n\n      this.presentToast();\n    }, (err) => {\n      let x = document.getElementById('wrongpassword');\n      x.style.display = 'block';\n      console.log('user not logged in!');\n      console.log(err);\n    })\n  }\n\n  async presentToast() {\n    const toast = await this.toastCtrl.create({\n      message: 'You were Signed In',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  register() {\n\n    //  this.api.User.gender = this.gender\n    //  this.api.User.DOB = this.DOB\n\n\n    //  console.log(this.api.User)\n\n\n    this.cognitoService.signUp(this.email, this.password).then(\n      res => {\n        this.promptVerificationCode();\n      },\n      err => {\n\n        console.log(err);\n      }\n    );\n  }\n\n  async promptVerificationCode() {\n    let alert = await this.alertCtrl.create({\n      message: 'Enter Verfication Code',\n      inputs: [{\n        name: 'VerificationCode',\n        placeholder: 'Verification Code'\n      }],\n      buttons: [{\n        text: 'Cancel',\n        role: 'cancel',\n        handler: data => {\n          console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'Verify',\n        handler: data => {\n          this.verifyUser(data.VerificationCode);\n        }\n      }\n\n      ]\n    });\n    await alert.present();\n  }\n\n  verifyUser(VerificationCode) {\n    this.cognitoService.confirmUser(VerificationCode, this.email).then(\n      res => {\n        console.log(res);\n        this.successAlert();\n      },\n      err => {\n        alert(err.message);\n      }\n    );\n  }\n\n  async successAlert() {\n    const alert = await this.alertCtrl.create({\n      header: 'Success',\n      message: 'You are now registered!',\n      buttons: ['Sweet!']\n    });\n    alert.onDidDismiss().then(() => {\n      this.router.navigate(['/tabs/tab1']);\n    });\n    await alert.present();\n  }\n\n  onChange(SelectedValue) {\n    console.log('Selected', SelectedValue)\n\n  }\n\n}"],"sourceRoot":""}